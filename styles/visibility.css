/* styles/visibility.css
   Purpose:
   - Prevent “text disappears” where only 'Thought for...' remains visible.
   - Only affects actual chat message content, not UI cards.
*/

html:has(#bbj-rj-rail) :is([data-message-author-role="assistant"], [data-message-author-role="user"]) {
  /* Ensure message containers themselves are not hidden */
  visibility: visible !important;
  opacity: 1 !important;
}

/* Force message bodies visible (this is what was disappearing) */
html:has(#bbj-rj-rail)
:is([data-message-author-role="assistant"], [data-message-author-role="user"])
:is(.markdown, .prose) {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;

  /* Prevent “invisible text” tricks */
  color: inherit !important;
  filter: none !important;
  mix-blend-mode: normal !important;
}

/* If a parent accidentally set color transparent, give a safe fallback */
@media (prefers-color-scheme: dark) {
  html:has(#bbj-rj-rail)
  :is([data-message-author-role="assistant"], [data-message-author-role="user"])
  :is(.markdown, .prose) {
    color: rgb(235,235,235) !important;
  }
}
@media (prefers-color-scheme: light) {
  html:has(#bbj-rj-rail)
  :is([data-message-author-role="assistant"], [data-message-author-role="user"])
  :is(.markdown, .prose) {
    color: rgb(20,20,20) !important;
  }
}
