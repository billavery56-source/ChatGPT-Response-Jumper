/* styles/visibility-fix.css
   Purpose: prevent “blank responses” where only 'Thought for …' shows.

   This does NOT change widths/margins/padding. Only visibility/color/opacity.
   Load this LAST in manifest.json so it wins.
*/

html.bbj-rj-3col :is(.markdown, .prose){
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;

  /* kill any weird blending that can make text disappear */
  mix-blend-mode: normal !important;
  filter: none !important;
  text-shadow: none !important;
}

/* If any file set text color to transparent, this fixes it */
html.bbj-rj-3col :is(.markdown, .prose){
  color: inherit !important;
}

/* But if inherit is also “bad” (e.g. parent was set wrong),
   use a safe fallback per theme. */
@media (prefers-color-scheme: dark){
  html.bbj-rj-3col :is(.markdown, .prose){
    color: rgb(235,235,235) !important;
  }
}
@media (prefers-color-scheme: light){
  html.bbj-rj-3col :is(.markdown, .prose){
    color: rgb(20,20,20) !important;
  }
}
